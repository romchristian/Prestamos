<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <ui:decorate template="/plantillaListado.xhtml">
            <ui:param name="modulo" value="prestamo"/>

            <f:metadata>
                <f:viewParam name="id" value="#{clienteController.id}"/>
                <f:viewAction action="#{clienteController.cargaDatos()}"/>
            </f:metadata>

            <ui:define name="title">
                <h:outputText value="Ver Cliente"></h:outputText>
            </ui:define>

            <ui:define name="body">


                <h:form id="ClienteViewForm">
                    <h:panelGroup id="display">
                        <p:panelGrid columns="2" rendered="#{clienteController.selected != null}">

                            <h:outputText value="#{bundle.ViewClienteLabel_id}"/>
                            <h:outputText value="#{clienteController.selected.id}" title="#{bundle.ViewClienteTitle_id}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_tipoDocumento}"/>
                            <h:outputText value="#{clienteController.selected.tipoDocumento}" title="#{bundle.ViewClienteTitle_tipoDocumento}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_nroDocumento}"/>
                            <h:outputText value="#{clienteController.selected.nroDocumento}" title="#{bundle.ViewClienteTitle_nroDocumento}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_fechaVigencia}"/>
                            <h:outputText value="#{clienteController.selected.vigencia}" title="#{bundle.ViewClienteTitle_fechaVigencia}">
                                <f:convertDateTime pattern="#{formato.patronFecha}"/>
                            </h:outputText>

                            <h:outputText value="#{bundle.ViewClienteLabel_primerNombre}"/>
                            <h:outputText value="#{clienteController.selected.primerNombre}" title="#{bundle.ViewClienteTitle_primerNombre}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_segundoNombre}"/>
                            <h:outputText value="#{clienteController.selected.segundoNombre}" title="#{bundle.ViewClienteTitle_segundoNombre}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_primerApellido}"/>
                            <h:outputText value="#{clienteController.selected.primerApellido}" title="#{bundle.ViewClienteTitle_primerApellido}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_segundoApellido}"/>
                            <h:outputText value="#{clienteController.selected.segundoApellido}" title="#{bundle.ViewClienteTitle_segundoApellido}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_fechaNac}"/>
                            <h:outputText value="#{clienteController.selected.fechaNac}" title="#{bundle.ViewClienteTitle_fechaNac}">
                                <f:convertDateTime pattern="#{formato.patronFecha}"/>
                            </h:outputText>

                            <h:outputText value="#{bundle.ViewClienteLabel_nacionalidad}"/>
                            <h:outputText value="#{clienteController.selected.nacionalidad}" title="#{bundle.ViewClienteTitle_nacionalidad}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_estadoCivil}"/>
                            <h:outputText value="#{clienteController.selected.estadoCivil}" title="#{bundle.ViewClienteTitle_estadoCivil}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_sexo}"/>
                            <h:outputText value="#{clienteController.selected.sexo}" title="#{bundle.ViewClienteTitle_sexo}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_lineaDeCredito}"/>
                            <h:outputText value="#{clienteController.selected.lineaDeCredito}" title="#{bundle.ViewClienteTitle_lineaDeCredito}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_categoria}"/>
                            <h:outputText value="#{clienteController.selected.categoria.calificacion}" title="#{bundle.ViewClienteTitle_categoria}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_empresa}"/>
                            <h:outputText value="#{clienteController.selected.empresa.razonSocial}" title="#{bundle.ViewClienteTitle_empresa}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_sucursal}"/>
                            <h:outputText value="#{clienteController.selected.sucursal.nombre}" title="#{bundle.ViewClienteTitle_sucursal}"/>

                            <h:outputText value="#{bundle.ViewClienteLabel_estado}"/>
                            <h:outputText value="#{clienteController.selected.estado}" title="#{bundle.ViewClienteTitle_estado}"/>

                        </p:panelGrid>
                        <p:button value="#{bundle.Close}" outcome="List"/>
                        <p:spacer/>
                        <p:commandButton id="imprimirButton" action="#{clienteController.imprimeRegistroFirma()}" value="Imprimir Reg. Firmas" ajax="false"
                                         rendered="#{(request.isUserInRole('admin') or request.isUserInRole('clientes_imprime_registro_firma') or request.isUserInRole('adm_cliente_view_accion_imprimeregistrofirma'))}"/>
                        
                    </h:panelGroup>
                </h:form>

            </ui:define>

        </ui:decorate>

    </ui:composition>
</html>
